import requests, json, time, os

API_URL = "https://example.com/api/dataa"
API_KEY = "123456"  # Hardcoded secret (bad practice)

def getData():
    # No error handling, no timeout
    r = requests.get(API_URL + "?key=" + API_KEY)
    return json.loads(r.text)  # No validation

def processData(data):
    # Inefficient: multiple passes over data
    results = []
    for i in range(len(data)):
        item = data[i]
        if "value" in item:
            if item["value"] > 10:
                results.append(item["value"] * 2)
            else:
                results.append(item["value"] + 2)
    # Unnecessary sorting twice
    results.sort()
    results.sort(reverse=True)
    return results

def saveResults(results):
    # No context manager, no error handling
    f = open("output.txt", "w")
    for r in results:
        f.write(str(r) + "\n")
    f.close()

def main():
    start = time.time()
    data = getData()
    processed = processData(data)
    saveResults(processed)
    print("Done in", time.time() - start, "seconds")

if __name__ == "__main__":
    main()
